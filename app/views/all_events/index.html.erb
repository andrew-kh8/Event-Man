<% content_for :title, "Мероприятия" %>

<div class="w-full">
  <div class="py-8 sm:py-16 block lg:py-24 relative bg-opacity-50 z-40">

    <div class="relative mx-auto h-full px-4 pb-20 md:pb-10 sm:max-w-xl md:max-w-full md:px-24 lg:max-w-screen-xl lg:px-8">

      <div class="px-4 mx-auto max-w-7xl sm:px-6 lg:px-8 relative">
        <div class="max-w-xl mx-auto text-center">
          <div class="inline-flex px-4 py-1.5 mx-auto rounded-full">
            <p class="text-4xl font-semibold tracking-widest text-g uppercase">Мероприятия</p>
          </div>
        </div>

        <div class="grid grid-cols-1 gap-2 mt-12 sm:grid-cols-3 lg:mt-20">
          <% @events.each do |event| %>

            <%= link_to organization_event_path(event.organization_id, event), class: "transition-all duration-1000 bg-white hover:bg-blue-500 hover:shadow-xl m-2 p-4 relative z-40 group" do %>

              <div class="py-2 px-9 relative">

                <%= image_tag event.image_url %>

                <h3 class="mt-8 text-lg font-semibold text-black group-hover:text-white">
                  <%= event.name %>
                </h3>

                <p class="mt-4 text-base text-gray-600 group-hover:text-white">
                  <%= event.description %>
                </p>
              </div>
            <%end%>
          <%end%>
        </div>
      </div>
    </div>

    <%# Render a view helper in your views (skipping nav links for empty pages) %>
    <%# yeah) looks like shit, but idk how ot include pagy styles, fix it or fuck off %>
    <style>
      .pagy {
        display: flex;
        font-family: sans-serif;
        font-size: 0.875rem;
        line-height: 1.25rem;
        font-weight: 600;
        color: #6b7280;
      }
      .pagy > :not([hidden]) ~ :not([hidden]) {
        --space-reverse: 0;
        margin-right: calc(0.25rem * var(--space-reverse));
        margin-left: calc(0.25rem * calc(1 - var(--space-reverse)));
      }
      .pagy a:not(.gap) {
        display: block;
        text-decoration: none;
        border-radius: 0.5rem;
        background-color: #e5e7eb;
        padding: 0.25rem 0.75rem;
        color: inherit;
      }
      .pagy a:not(.gap):hover {
        background-color: #d1d5db;
      }
      .pagy a:not(.gap):not([href]) { /* disabled links */
        cursor: default;
        background-color: #f3f4f6;
        color: #d1d5db;
      }
      .pagy a:not(.gap).current {
        background-color: #9ca3af;
        color: white;
      }
      .pagy label {
        white-space: nowrap;
        display: inline-block;
        border-radius: 0.5rem;
        background-color: #e5e7eb;
        padding: 0.125rem 0.75rem;
      }
      .pagy label input {
        line-height: 1.5rem;
        border-radius: 0.375rem;
        border-style: none;
        background-color: #f3f4f6;
      }
    </style>

    <div class="max-w-xl mx-auto text-center m-4">
      <div class="inline-flex mx-auto rounded-full">
        <%== pagy_nav(@pagy) %>
      </div>
    </div>
  </div>
</div>
