<%= turbo_frame_tag 'friendship_buttons' do %>
    <% if person_signed_in? && current_person != person %>
        <% if current_person.friends.include?(person) %>
            <%= button_to friendship_path(person.id), method: :delete, class: 'rose-btn' do %>
                <svg class="svg-icon" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 12h4M4 18v-1a3 3 0 0 1 3-3h4a3 3 0 0 1 3 3v1a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1Zm8-10a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" />
                </svg>
                <span>Удалить из друзей</span>
            <% end %>
        <% elsif current_person.request_friends_from_person.include?(person) %>
            <%= button_to friendship_path(person.id), method: :delete, class: 'rose-btn' do %>
                <svg class="svg-icon" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18 17.94 6M18 18 6.06 6" />
                </svg>
                <span>Отменить заявку</span>
            <% end %>
        <% elsif current_person.request_friends_for_person.include?(person) %>
            <div class="flex">
                <%= button_to friendships_path(params: { author_id: person.id }), class: 'mr-4 blue-btn' do %>
                    <svg class="svg-icon" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 11.917 9.724 16.5 19 7.5" />
                    </svg>
                    <span>Принять в друзья</span>
                <% end %>

                <%= button_to friendship_path(person.id), method: :delete, class: 'rose-btn' do %>
                    <svg class="svg-icon" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18 17.94 6M18 18 6.06 6" />
                    </svg>
                    <span>Не принимать в друзья</span>
                <% end %>
            </div>
        <% else %>
            <%= button_to friendships_path(params: { author_id: person.id }), class: 'blue-btn' do %>
                <svg class="svg-icon" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 12h4m-2 2v-4M4 18v-1a3 3 0 0 1 3-3h4a3 3 0 0 1 3 3v1a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1Zm8-10a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" />
                </svg>
                <span>Добавить в друзья</span>
            <% end %>
        <% end %>
    <% end %>
<% end %>
